{"version":3,"sources":["views/Review/Review.jsx"],"names":["Review","movieId","useState","reviews","setReviews","STATUS","IDLE","status","setStatus","useEffect","PENDING","movieApi","then","response","results","RESOLVED","catch","error","REJECTED","type","color","height","width","length","map","review","className","css","listItem","titleReviews","author","content","id"],"mappings":"oQAMe,SAASA,EAAT,GAA8B,IAAZC,EAAW,EAAXA,QAC/B,EAA8BC,mBAAS,MAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA4BF,mBAASG,EAAOC,MAA5C,mBAAOC,EAAP,KAAeC,EAAf,KAeA,OAbAC,qBAAU,WACRD,EAAUH,EAAOK,SACjBC,IACoBV,GACjBW,MAAK,SAAAC,GACJT,EAAWS,EAASC,SACpBN,EAAUH,EAAOU,aAElBC,OAAM,SAAAC,GACLT,EAAUH,EAAOa,eAEpB,CAACjB,IAGF,qCACGM,IAAWF,EAAOK,SACjB,cAAC,IAAD,CACES,KAAK,YACLC,MAAM,UACNC,OAAQ,GACRC,MAAO,KAGVf,IAAWF,EAAOa,UAAY,gIAC9BX,IAAWF,EAAOU,UACjB,6BACGZ,EAAQoB,OAAS,EAChBpB,EAAQqB,KACN,SAAAC,GAAM,uBAEF,qBAAoBC,UAAWC,IAAIC,SAAnC,UACE,oBAAIF,UAAWC,IAAIE,aAAnB,SACGJ,EAAOK,SAEV,4BAAIL,EAAOM,YAJJN,EAAOO,WAFd,QAQC,qDAGT,kF","file":"static/js/review.8dfb7844.chunk.js","sourcesContent":["import css from './Review.module.css';\r\nimport { useState, useEffect } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport * as movieApi from '../../services/fetch-api';\r\nimport STATUS from '../../services/function-status.json';\r\n\r\nexport default function Review({ movieId }) {\r\n  const [reviews, setReviews] = useState(null);\r\n  const [status, setStatus] = useState(STATUS.IDLE);\r\n\r\n  useEffect(() => {\r\n    setStatus(STATUS.PENDING);\r\n    movieApi\r\n      .fetchMovieReview(movieId)\r\n      .then(response => {\r\n        setReviews(response.results);\r\n        setStatus(STATUS.RESOLVED);\r\n      })\r\n      .catch(error => {\r\n        setStatus(STATUS.REJECTED);\r\n      });\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <>\r\n      {status === STATUS.PENDING && (\r\n        <Loader\r\n          type=\"ThreeDots\"\r\n          color=\"#b41408\"\r\n          height={80}\r\n          width={80}\r\n        />\r\n      )}\r\n      {status === STATUS.REJECTED && <h2>Что-то пошло не так</h2>}\r\n      {status === STATUS.RESOLVED && (\r\n        <ul>\r\n          {reviews.length > 0 ? (\r\n            reviews.map(\r\n              review =>\r\n                (\r\n                  <li key={review.id} className={css.listItem}>\r\n                    <h4 className={css.titleReviews}>\r\n                      {review.author}\r\n                    </h4>\r\n                    <p>{review.content}</p>\r\n                  </li>\r\n                ) ?? <p>Reviews not found</p>,\r\n            )\r\n          ) : (\r\n            <div>We don't have any reviews for this movie</div>\r\n          )}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}